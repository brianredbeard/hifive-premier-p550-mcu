From 5962b0444cd1a35f39aaf7dc8e9ca449daf30dfe Mon Sep 17 00:00:00 2001
From: yuan junhui <yuanjunhui@eswincomputing.com>
Date: Thu, 23 May 2024 14:34:50 +0800
Subject: [PATCH 053/109] WIN2030-15099:fix(web-server.c):reduce session mem

Changelogs:
01,reduce session men

Change-Id: I4280974503ce1806e5b0605df9fc1a905a688315
---
 Core/Src/web-server.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/Core/Src/web-server.c b/Core/Src/web-server.c
index 7ce9612..8a47724 100644
--- a/Core/Src/web-server.c
+++ b/Core/Src/web-server.c
@@ -12,6 +12,7 @@
 #include "hf_power_process.h"
 
 #define SESSION_ID_LENGTH 32
+#define SESSION_DATA_LENGTH 20
 #define BUF_SIZE 1024
 #define BUF_SIZE_64 64
 #define BUF_SIZE_128 128
@@ -10189,13 +10190,12 @@ void generate_session_id(char *session_id, int length) {
 
 
 typedef struct Session {
-    char session_id[256];
-    char session_data[256];
+    char session_id[SESSION_ID_LENGTH+1];// +1 for \0
+    char session_data[SESSION_DATA_LENGTH+1];
     struct Session *next;
 } Session;
 
 
-
 Session *session_list = NULL;
 
 
-- 
2.25.1

